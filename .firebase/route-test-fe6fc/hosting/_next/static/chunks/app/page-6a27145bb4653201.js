(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{7554:function(e,s,t){Promise.resolve().then(t.bind(t,9223))},9223:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return d}});var a=t(7437),l=t(2265);function r(e){let{onImageSelect:s,selectedImage:t}=e,r=(0,l.useRef)(null),[n,i]=(0,l.useState)(!1),[c,d]=(0,l.useState)(null),x=e=>{e&&e.type.startsWith("image/")?(s(e),d(URL.createObjectURL(e))):alert("이미지 파일만 업로드 가능합니다.")};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"upload-area ".concat(n?"dragover":""," cursor-pointer min-h-[200px] flex items-center justify-center"),onDrop:e=>{e.preventDefault(),i(!1);let s=e.dataTransfer.files;s.length>0&&x(s[0])},onDragOver:e=>{e.preventDefault(),i(!0)},onDragLeave:e=>{e.preventDefault(),i(!1)},onClick:()=>{var e;null===(e=r.current)||void 0===e||e.click()},children:[(0,a.jsx)("input",{ref:r,type:"file",accept:"image/*",onChange:e=>{let s=e.target.files;s&&s.length>0&&x(s[0])},className:"hidden"}),t?(0,a.jsxs)("div",{className:"space-y-4 text-center",children:[(0,a.jsx)("div",{className:"text-5xl",children:"✅"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-lg font-semibold text-white",children:t.name}),(0,a.jsxs)("p",{className:"text-white/70 text-sm mt-1",children:[(t.size/1024/1024).toFixed(2)," MB"]}),(0,a.jsxs)("div",{className:"mt-3 inline-flex items-center px-3 py-1 bg-green-500/20 rounded-full text-sm text-green-300",children:[(0,a.jsx)("span",{className:"mr-2",children:"\uD83C\uDF89"}),"업로드 완료"]})]})]}):(0,a.jsxs)("div",{className:"space-y-6 text-center",children:[(0,a.jsx)("div",{className:"text-6xl opacity-80",children:"\uD83D\uDCF7"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xl font-semibold text-white mb-2",children:"지도 이미지를 업로드하세요"}),(0,a.jsx)("p",{className:"text-white/70 text-base",children:"클릭하거나 드래그 앤 드롭으로 업로드"}),(0,a.jsxs)("div",{className:"mt-4 inline-flex items-center px-4 py-2 bg-white/20 rounded-full text-sm text-white/90",children:[(0,a.jsx)("span",{className:"mr-2",children:"\uD83D\uDCF1"}),"JPG, PNG, GIF 지원"]})]})]})]}),c&&(0,a.jsxs)("div",{className:"relative group",children:[(0,a.jsx)("div",{className:"glass p-4 rounded-2xl",children:(0,a.jsx)("img",{src:c,alt:"Preview",className:"w-full max-h-80 object-contain rounded-xl"})}),(0,a.jsx)("button",{onClick:()=>{s(null),d(null),r.current&&(r.current.value="")},className:"absolute top-6 right-6 bg-red-500/90 hover:bg-red-600 text-white rounded-full p-3 transition-all duration-200 opacity-0 group-hover:opacity-100 transform scale-90 hover:scale-100",children:(0,a.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]})}function n(e){let{value:s,onChange:t,placeholder:l}=e;return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("textarea",{value:s,onChange:e=>t(e.target.value),placeholder:l,className:"w-full h-48 p-6 bg-white/10 backdrop-blur-sm border border-white/20 rounded-2xl focus:ring-2 focus:ring-white/30 focus:border-white/40 resize-none text-gray-800 placeholder-gray-500 transition-all duration-200",rows:8}),(0,a.jsxs)("div",{className:"absolute bottom-4 right-4 text-xs text-gray-500 bg-white/80 px-2 py-1 rounded-full",children:[s.length," 글자"]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:(0,a.jsxs)("span",{className:"inline-flex items-center px-3 py-1 bg-blue-100 rounded-full",children:[(0,a.jsx)("span",{className:"mr-1",children:"\uD83D\uDCA1"}),"팁: 가격 정보를 포함해주세요"]})}),s.length>0&&(0,a.jsxs)("button",{onClick:()=>t(""),className:"inline-flex items-center px-4 py-2 bg-red-100 hover:bg-red-200 text-red-700 rounded-xl transition-colors text-sm font-medium",children:[(0,a.jsx)("span",{className:"mr-2",children:"\uD83D\uDDD1️"}),"전체 삭제"]})]}),s.length>0&&(0,a.jsxs)("div",{className:"glass p-6 rounded-2xl",children:[(0,a.jsxs)("div",{className:"flex items-center mb-4",children:[(0,a.jsx)("span",{className:"text-2xl mr-3",children:"\uD83D\uDCDD"}),(0,a.jsx)("h4",{className:"font-semibold text-gray-700",children:"입력 내용 미리보기"})]}),(0,a.jsx)("div",{className:"bg-white/50 p-4 rounded-xl text-sm text-gray-700 max-h-40 overflow-y-auto",children:s.split("\n").map((e,s)=>(0,a.jsx)("div",{className:"mb-2 leading-relaxed",children:e||(0,a.jsx)("br",{})},s))})]})]})}function i(e){let{result:s}=e,t=e=>new Intl.NumberFormat("ko-KR",{style:"currency",currency:"KRW"}).format(e);return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,a.jsx)("h3",{className:"font-semibold text-blue-900 mb-2",children:"\uD83D\uDCCD 분석 지역"}),(0,a.jsx)("p",{className:"text-blue-800 font-medium",children:s.location.name}),(0,a.jsx)("p",{className:"text-blue-600 text-sm",children:s.location.address})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-800 mb-2",children:"\uD83C\uDFD8️ 지역 특성"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:s.analysis.areaType})]}),(0,a.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-800 mb-2",children:"\uD83D\uDC65 인구 밀도"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:s.analysis.population})]}),(0,a.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-800 mb-2",children:"\uD83C\uDFE2 상권 밀도"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:s.analysis.businessDensity})]}),(0,a.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-800 mb-2",children:"\uD83D\uDE97 접근성"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:s.analysis.accessibility})]})]}),(0,a.jsxs)("div",{className:"bg-green-50 p-6 rounded-lg",children:[(0,a.jsx)("h3",{className:"font-semibold text-green-900 mb-4",children:"\uD83D\uDCB0 예상 수익"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-sm text-green-700 mb-1",children:"일일 예상 수익"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-green-800",children:t(s.revenue.dailyEstimate)})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-sm text-green-700 mb-1",children:"월간 예상 수익"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-green-900",children:t(s.revenue.monthlyEstimate)})]})]}),(0,a.jsxs)("div",{className:"border-t border-green-200 pt-4",children:[(0,a.jsx)("h4",{className:"font-medium text-green-800 mb-2",children:"수익 영향 요인:"}),(0,a.jsx)("ul",{className:"space-y-1",children:s.revenue.factors.map((e,s)=>(0,a.jsxs)("li",{className:"text-sm text-green-700 flex items-start",children:[(0,a.jsx)("span",{className:"text-green-500 mr-2",children:"•"}),e]},s))})]})]}),(0,a.jsxs)("div",{className:"bg-yellow-50 p-6 rounded-lg",children:[(0,a.jsx)("h3",{className:"font-semibold text-yellow-900 mb-4",children:"\uD83D\uDCA1 추천 사항"}),(0,a.jsx)("ul",{className:"space-y-2",children:s.recommendations.map((e,s)=>(0,a.jsxs)("li",{className:"text-sm text-yellow-800 flex items-start",children:[(0,a.jsx)("span",{className:"text-yellow-600 mr-2",children:"✓"}),e]},s))})]}),(0,a.jsxs)("div",{className:"bg-red-50 p-4 rounded-lg",children:[(0,a.jsx)("h3",{className:"font-semibold text-red-900 mb-2",children:"⚡ 경쟁 상황"}),(0,a.jsx)("p",{className:"text-sm text-red-700",children:s.analysis.competition})]})]})}function c(e){let{location:s,markers:t=[]}=e,r=(0,l.useRef)(null),n=(0,l.useRef)(null);(0,l.useEffect)(()=>{let e=document.createElement("script");return e.src="https://openapi.map.naver.com/openapi/v3/maps.js?ncpClientId=".concat("your_naver_client_id_here"),e.async=!0,e.onload=()=>{r.current&&window.naver&&i()},document.head.appendChild(e),()=>{e.parentNode&&e.parentNode.removeChild(e)}},[s]);let i=()=>{if(!r.current||!window.naver)return;let e={center:new window.naver.maps.LatLng(s.coordinates.lat,s.coordinates.lng),zoom:15,mapTypeControl:!0,mapTypeControlOptions:{style:window.naver.maps.MapTypeControlStyle.BUTTON,position:window.naver.maps.Position.TOP_RIGHT},zoomControl:!0,zoomControlOptions:{style:window.naver.maps.ZoomControlStyle.LARGE,position:window.naver.maps.Position.TOP_LEFT}};n.current=new window.naver.maps.Map(r.current,e),new window.naver.maps.Marker({position:new window.naver.maps.LatLng(s.coordinates.lat,s.coordinates.lng),map:n.current,title:s.name,icon:{content:'<div style="background: #3b82f6; color: white; padding: 8px 12px; border-radius: 20px; font-weight: bold; box-shadow: 0 2px 8px rgba(0,0,0,0.3);">\uD83D\uDCCD '+s.name+"</div>",anchor:new window.naver.maps.Point(50,50)}}),t.forEach((e,s)=>{let t=c(e.type),a=new window.naver.maps.Marker({position:new window.naver.maps.LatLng(e.lat,e.lng),map:n.current,title:e.title,icon:{content:'<div style="background: '.concat(t.color,'; color: white; padding: 6px 10px; border-radius: 15px; font-size: 12px; box-shadow: 0 2px 6px rgba(0,0,0,0.2);">').concat(t.emoji," ").concat(e.title,"</div>"),anchor:new window.naver.maps.Point(40,40)}});window.naver.maps.Event.addListener(a,"click",()=>{alert("".concat(e.title,"\n유형: ").concat(d(e.type)))})})},c=e=>{switch(e){case"cafe":return{emoji:"☕",color:"#8b5cf6"};case"competitor":return{emoji:"\uD83D\uDE9A",color:"#ef4444"};case"landmark":return{emoji:"\uD83C\uDFE2",color:"#10b981"};default:return{emoji:"\uD83D\uDCCD",color:"#6b7280"}}},d=e=>{switch(e){case"cafe":return"카페/상점";case"competitor":return"경쟁업체";case"landmark":return"주요 건물";default:return"기타"}};return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("div",{ref:r,className:"w-full h-96 rounded-lg border border-gray-200",style:{minHeight:"400px"},children:(0,a.jsx)("div",{className:"flex items-center justify-center h-full bg-gray-100 rounded-lg",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-4xl mb-2",children:"\uD83D\uDDFA️"}),(0,a.jsx)("p",{className:"text-gray-600",children:"지도를 로드하는 중..."}),(0,a.jsxs)("p",{className:"text-sm text-gray-500 mt-2",children:[s.name," (",s.coordinates.lat.toFixed(4),", ",s.coordinates.lng.toFixed(4),")"]})]})})}),t.length>0&&(0,a.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-800 mb-2",children:"지도 범례"}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-4 text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("span",{className:"mr-2",children:"\uD83D\uDCCD"}),(0,a.jsx)("span",{className:"text-blue-600",children:"분석 지역"})]}),t.some(e=>"cafe"===e.type)&&(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("span",{className:"mr-2",children:"☕"}),(0,a.jsx)("span",{className:"text-purple-600",children:"카페/상점"})]}),t.some(e=>"competitor"===e.type)&&(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("span",{className:"mr-2",children:"\uD83D\uDE9A"}),(0,a.jsx)("span",{className:"text-red-600",children:"경쟁업체"})]}),t.some(e=>"landmark"===e.type)&&(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("span",{className:"mr-2",children:"\uD83C\uDFE2"}),(0,a.jsx)("span",{className:"text-green-600",children:"주요 건물"})]})]})]})]})}function d(){let[e,s]=(0,l.useState)(null),[t,d]=(0,l.useState)(""),[x,m]=(0,l.useState)(null),[o,u]=(0,l.useState)(!1),h=async()=>{if(!e||!t.trim()){alert("네이버 지도 캡처와 카페 글을 모두 입력해주세요.");return}u(!0);try{let s=new FormData;s.append("mapImage",e),s.append("cafeText",t);let a=await fetch("/api/analyze",{method:"POST",body:s});if(!a.ok){let e=await a.json().catch(()=>({error:"알 수 없는 오류"}));throw Error(e.error||"서버 오류: ".concat(a.status))}let l=await a.json();m(l)}catch(s){console.error("Analysis error:",s);let e=s.message||"분석 중 오류가 발생했습니다.";alert("오류: ".concat(e,"\n\nPython 백엔드 서버가 실행 중인지 확인해주세요. (http://localhost:8000)"))}finally{u(!1)}};return(0,a.jsx)("main",{className:"min-h-screen py-8 px-4",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,a.jsxs)("div",{className:"text-center mb-16",children:[(0,a.jsx)("div",{className:"inline-block mb-6",children:(0,a.jsx)("div",{className:"text-8xl mb-4 animate-bounce",children:"\uD83D\uDE9A"})}),(0,a.jsx)("h1",{className:"text-6xl font-bold text-white mb-6 tracking-tight",children:"택배 라우트 분석기"}),(0,a.jsx)("p",{className:"text-2xl text-white/80 font-light max-w-3xl mx-auto leading-relaxed",children:"AI와 빅데이터를 활용한 스마트 택배 수익성 분석 플랫폼"}),(0,a.jsxs)("div",{className:"mt-8 flex justify-center space-x-4",children:[(0,a.jsx)("div",{className:"glass px-6 py-3 rounded-full",children:(0,a.jsx)("span",{className:"text-white/90 font-medium",children:"\uD83E\uDD16 AI 분석"})}),(0,a.jsx)("div",{className:"glass px-6 py-3 rounded-full",children:(0,a.jsx)("span",{className:"text-white/90 font-medium",children:"\uD83D\uDCCA 수익 예측"})}),(0,a.jsx)("div",{className:"glass px-6 py-3 rounded-full",children:(0,a.jsx)("span",{className:"text-white/90 font-medium",children:"\uD83D\uDDFA️ 지역 분석"})})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-12",children:[(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{className:"card",children:[(0,a.jsxs)("div",{className:"flex items-center mb-6",children:[(0,a.jsx)("div",{className:"text-4xl mr-4",children:"\uD83D\uDCCD"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"지도 이미지 업로드"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"분석하고 싶은 지역의 네이버 지도를 캡처해주세요"})]})]}),(0,a.jsx)(r,{onImageSelect:s,selectedImage:e})]}),(0,a.jsxs)("div",{className:"card",children:[(0,a.jsxs)("div",{className:"flex items-center mb-6",children:[(0,a.jsx)("div",{className:"text-4xl mr-4",children:"\uD83D\uDCAC"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"지역 정보 입력"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"해당 지역의 카페나 상점 가격 정보를 입력해주세요"})]})]}),(0,a.jsx)(n,{value:t,onChange:d,placeholder:"예: 아메리카노 4,500원, 라떼 5,000원, 샌드위치 8,000원..."})]}),(0,a.jsx)("button",{onClick:h,disabled:o||!e||!t.trim(),className:"w-full btn-primary text-xl ".concat(o?"loading-pulse":""),children:o?(0,a.jsxs)("div",{className:"flex items-center justify-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white mr-3"}),(0,a.jsx)("span",{className:"text-lg",children:"AI가 분석 중입니다..."})]}):(0,a.jsxs)("div",{className:"flex items-center justify-center",children:[(0,a.jsx)("span",{className:"text-2xl mr-3",children:"\uD83D\uDE80"}),(0,a.jsx)("span",{children:"스마트 분석 시작하기"})]})})]}),(0,a.jsxs)("div",{className:"space-y-8",children:[x&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"result-card",children:[(0,a.jsxs)("div",{className:"flex items-center mb-6",children:[(0,a.jsx)("div",{className:"text-4xl mr-4",children:"\uD83D\uDCCA"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-white",children:"AI 분석 결과"}),(0,a.jsx)("p",{className:"text-white/80 mt-1",children:"데이터 기반 수익성 분석 리포트"})]})]}),(0,a.jsx)(i,{result:x})]}),(0,a.jsxs)("div",{className:"result-card",children:[(0,a.jsxs)("div",{className:"flex items-center mb-6",children:[(0,a.jsx)("div",{className:"text-4xl mr-4",children:"\uD83D\uDDFA️"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-white",children:"지역 시각화"}),(0,a.jsx)("p",{className:"text-white/80 mt-1",children:"인터랙티브 지도 및 주요 지점"})]})]}),(0,a.jsx)(c,{location:x.location,markers:x.markers})]})]}),!x&&(0,a.jsxs)("div",{className:"card text-center py-16",children:[(0,a.jsx)("div",{className:"text-8xl mb-8 opacity-50",children:"\uD83C\uDFAF"}),(0,a.jsx)("h3",{className:"text-3xl font-bold text-gray-700 mb-4",children:"AI 분석 대기 중"}),(0,a.jsxs)("p",{className:"text-gray-500 text-lg max-w-md mx-auto leading-relaxed",children:["지도 이미지와 지역 정보를 입력하시면",(0,a.jsx)("br",{}),(0,a.jsx)("span",{className:"font-semibold text-purple-600",children:"AI가 수익성을 분석"}),"해드립니다"]}),(0,a.jsxs)("div",{className:"mt-8 grid grid-cols-1 sm:grid-cols-3 gap-4 max-w-lg mx-auto",children:[(0,a.jsxs)("div",{className:"glass px-4 py-3 rounded-xl",children:[(0,a.jsx)("div",{className:"text-2xl mb-1",children:"\uD83C\uDFAF"}),(0,a.jsx)("div",{className:"text-sm text-gray-600 font-medium",children:"정확한 분석"})]}),(0,a.jsxs)("div",{className:"glass px-4 py-3 rounded-xl",children:[(0,a.jsx)("div",{className:"text-2xl mb-1",children:"⚡"}),(0,a.jsx)("div",{className:"text-sm text-gray-600 font-medium",children:"빠른 결과"})]}),(0,a.jsxs)("div",{className:"glass px-4 py-3 rounded-xl",children:[(0,a.jsx)("div",{className:"text-2xl mb-1",children:"\uD83D\uDCA1"}),(0,a.jsx)("div",{className:"text-sm text-gray-600 font-medium",children:"실용적 조언"})]})]})]})]})]})]})})}},622:function(e,s,t){"use strict";var a=t(2265),l=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function d(e,s,t){var a,r={},d=null,x=null;for(a in void 0!==t&&(d=""+t),void 0!==s.key&&(d=""+s.key),void 0!==s.ref&&(x=s.ref),s)n.call(s,a)&&!c.hasOwnProperty(a)&&(r[a]=s[a]);if(e&&e.defaultProps)for(a in s=e.defaultProps)void 0===r[a]&&(r[a]=s[a]);return{$$typeof:l,type:e,key:d,ref:x,props:r,_owner:i.current}}s.Fragment=r,s.jsx=d,s.jsxs=d},7437:function(e,s,t){"use strict";e.exports=t(622)}},function(e){e.O(0,[971,938,744],function(){return e(e.s=7554)}),_N_E=e.O()}]);